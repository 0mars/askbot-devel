{% extends "user_inbox/base.html" %}
{% import "macros.html" as macros %}
{% block profilesection %}
    {% trans %}inbox - group join requests{% endtrans %}
{% endblock %}
{% block inbox_content %}
    <table>
    {% for membership in pending_group_memberships %}
        <tr>
            <td>{% trans 
                    user=membership.user,
                    group=membership.group.name
                %}{{ user }} wants to join group {{ group }}{% endtrans %}
            </td>
            <td>{# forms with accept and reject buttons #}
                <form action="{% url moderate_group_join_request %}" method="post"
                >{% csrf_token %}
                    <input 
                        type="hidden"
                        name="request_id"
                        value="{{ membership.id }}"
                    />
                    <input type="hidden" name="action" value="approve"/>
                    <input
                        type="submit"
                        value="{% trans %}Approve{% endtrans %}"
                    />
                </form>
            </td>
            <td>
                <form action="{% url moderate_group_join_request %}" method="post">
                    {% csrf_token %}
                    <input 
                        type="hidden"
                        name="request_id"
                        value="{{ membership.id }}"
                    />
                    <input type="hidden" name="action" value="deny"/>
                    <input
                        type="submit"
                        value="{% trans %}Deny{% endtrans %}"
                    />
                </form>
            </td>
        </tr>
    {% endfor %}
    </table>
{% endblock %}
